<section data-ng-controller="RoomsController" data-ng-init="find()">
  <h1><a href="#!/rooms/create">Create One</a></h1>
  <table class="table table-striped">
    <thead>
      <tr>        
        <th>Image</th>
        <th>Name</th>
        <th>Occupancy</th>
        <th>Size</th>
        <th>View</th>
        <th>type</th>
        <th>price</th>
        <th>action</th>
      </tr>
    </thead>
    <tbody>
      <tr data-ng-repeat="room in rooms">
        <td><img ng-src="/img/thumbs/{{room.image}}" /></td>
        <td>{{room.name}}</td>
        <td>{{room.occupancy}}</td>
        <td>{{room.size}}</td>
        <td>{{room.view}}</td>
        <td><ul>
          <li data-ng-repeat="type in room.type">{{type.type}}<br />
            <form ng-submit="action(room._id,type.type,type.available,$parent.$index,$index)"><button type="submit" class="btn btn-default" ng-show="type.available==1">Available</button><button type="submit" class="btn btn-warning" ng-show="type.available==2">Unavailable</button></form></td>
          </li>
        </ul></td>
        <td>{{room.price}}</td>
        <td><a class="btn" href="#!/rooms/{{room._id}}/edit">
        	<i class="fa fa-edit"></i>
        </a>
        <a class="btn" data-ng-click="remove(room._id,$index)">
            <i class="fa fa-trash-o"></i>
        </a>
      </tr>      
    </tbody>
  </table>	
	<h1 data-ng-hide="!rooms || rooms.length">No rooms yet. <br> Why don't you <a href="#!/rooms/create">Create One</a>?</h1>
</section>